require 'rspec'

RSpec.describe 'test' do
  it 'test with "\u5165\u529B: N \u500B\u306E\u533A\u9593 [L_1: R_1], \\cdots, [L_N:R_N]\n      L_1, L_2, \\cdots, L_N, R_1, R_2, \\cdots, R_N\u306F\u5168\u3066\u7570\u306A\u308B\u3002\n\u51FA\u529B: \u3069\u306E 2 \u3064\u306E\u533A\u9593\u3082\u4EA4\u308F\u3089\u306A\u3044\u3088\u3046\u306B\u9078\u3079\u308B\u533A\u9593\u306E\u6700\u5927\u6570\n"' do
    io = IO.popen("ruby arc106/C.rb", "w+")
    io.puts("\u5165\u529B: N \u500B\u306E\u533A\u9593 [L_1: R_1], \\cdots, [L_N:R_N]\n      L_1, L_2, \\cdots, L_N, R_1, R_2, \\cdots, R_N\u306F\u5168\u3066\u7570\u306A\u308B\u3002\n\u51FA\u529B: \u3069\u306E 2 \u3064\u306E\u533A\u9593\u3082\u4EA4\u308F\u3089\u306A\u3044\u3088\u3046\u306B\u9078\u3079\u308B\u533A\u9593\u306E\u6700\u5927\u6570\n")
    io.close_write
    expect(io.readlines.join).to eq("R_i \u306E\u5024\u304C\u6607\u9806\u3068\u306A\u308B\u3088\u3046\u306B, \u5165\u529B\u3055\u308C\u305F\u533A\u9593\u3092 [L_{p_1}:R_{p_1}], [L_{p_2}:R_{p_2}], \\cdots , [L_{p_N}:R_{p_N}] \u3068\u4E26\u3073\u66FF\u3048\u308B\u3002\ni = 1, 2, \\cdots , N \u306B\u3064\u3044\u3066\u3001\u4EE5\u4E0B\u3092\u884C\u3046\u3002\n  \u3053\u308C\u307E\u3067\u306B\u9078\u3093\u3060\u3069\u306E\u533A\u9593\u3068\u3082\u4EA4\u308F\u3089\u306A\u3044\u306A\u3089\u3070\u3001 [L_{p_i}:R_{p_i}] \u3092\u9078\u3076\u3002\n\u9078\u3093\u3060\u533A\u9593\u306E\u6570\u3092\u51FA\u529B\u3059\u308B\u3002\n")
  end

  it 'test with "L_i \u306E\u5024\u304C\u6607\u9806\u3068\u306A\u308B\u3088\u3046\u306B, \u5165\u529B\u3055\u308C\u305F\u533A\u9593\u3092 [L_{p_1}:R_{p_1}], [L_{p_2}:R_{p_2}], \\cdots , [L_{p_N}:R_{p_N}] \u3068\u4E26\u3073\u66FF\u3048\u308B\u3002\ni = 1, 2, \\cdots , N \u306B\u3064\u3044\u3066\u3001\u4EE5\u4E0B\u3092\u884C\u3046\u3002\n  \u3053\u308C\u307E\u3067\u306B\u9078\u3093\u3060\u3069\u306E\u533A\u9593\u3068\u3082\u4EA4\u308F\u3089\u306A\u3044\u306A\u3089\u3070\u3001 [L_{p_i}:R_{p_i}] \u3092\u9078\u3076\u3002\n\u9078\u3093\u3060\u533A\u9593\u306E\u6570\u3092\u51FA\u529B\u3059\u308B\u3002\n"' do
    io = IO.popen("ruby arc106/C.rb", "w+")
    io.puts("L_i \u306E\u5024\u304C\u6607\u9806\u3068\u306A\u308B\u3088\u3046\u306B, \u5165\u529B\u3055\u308C\u305F\u533A\u9593\u3092 [L_{p_1}:R_{p_1}], [L_{p_2}:R_{p_2}], \\cdots , [L_{p_N}:R_{p_N}] \u3068\u4E26\u3073\u66FF\u3048\u308B\u3002\ni = 1, 2, \\cdots , N \u306B\u3064\u3044\u3066\u3001\u4EE5\u4E0B\u3092\u884C\u3046\u3002\n  \u3053\u308C\u307E\u3067\u306B\u9078\u3093\u3060\u3069\u306E\u533A\u9593\u3068\u3082\u4EA4\u308F\u3089\u306A\u3044\u306A\u3089\u3070\u3001 [L_{p_i}:R_{p_i}] \u3092\u9078\u3076\u3002\n\u9078\u3093\u3060\u533A\u9593\u306E\u6570\u3092\u51FA\u529B\u3059\u308B\u3002\n")
    io.close_write
    expect(io.readlines.join).to eq("5 1\n")
  end

  it 'test with "1 10\n8 12\n13 20\n11 14\n2 4\n"' do
    io = IO.popen("ruby arc106/C.rb", "w+")
    io.puts("1 10\n8 12\n13 20\n11 14\n2 4\n")
    io.close_write
    expect(io.readlines.join).to eq("\u533A\u9593\u3092\u533A\u9593 5 \u3001\u533A\u9593 1 \u3001\u533A\u9593 2 \u3001\u533A\u9593 4 \u3001\u533A\u9593 3 \u3068\u4E26\u3073\u66FF\u3048\u307E\u3059\u3002\n\u533A\u9593 5 \u3092\u9078\u3073\u307E\u3059\u3002\n\u533A\u9593 1 \u306F\u9078\u3073\u307E\u305B\u3093\u3002(\u533A\u9593 5 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n\u533A\u9593 2 \u3092\u9078\u3073\u307E\u3059\u3002\n\u533A\u9593 4 \u306F\u9078\u3073\u307E\u305B\u3093\u3002 (\u533A\u9593 2 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n\u533A\u9593 3 \u3092\u9078\u3073\u307E\u3059\u3002\n")
  end

  it 'test with "\u533A\u9593\u3092\u533A\u9593 1 \u3001\u533A\u9593 5 \u3001\u533A\u9593 2 \u3001\u533A\u9593 4 \u3001\u533A\u9593 3 \u3068\u4E26\u3073\u66FF\u3048\u307E\u3059\u3002\n\u533A\u9593 1 \u3092\u9078\u3073\u307E\u3059\u3002\n\u533A\u9593 5 \u306F\u9078\u3073\u307E\u305B\u3093\u3002(\u533A\u9593 1 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n\u533A\u9593 2 \u306F\u9078\u3073\u307E\u305B\u3093\u3002 (\u533A\u9593 1 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n\u533A\u9593 4 \u3092\u9078\u3073\u307E\u3059\u3002\n\u533A\u9593 3 \u306F\u9078\u3073\u307E\u305B\u3093\u3002 (\u533A\u9593 4 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n"' do
    io = IO.popen("ruby arc106/C.rb", "w+")
    io.puts("\u533A\u9593\u3092\u533A\u9593 1 \u3001\u533A\u9593 5 \u3001\u533A\u9593 2 \u3001\u533A\u9593 4 \u3001\u533A\u9593 3 \u3068\u4E26\u3073\u66FF\u3048\u307E\u3059\u3002\n\u533A\u9593 1 \u3092\u9078\u3073\u307E\u3059\u3002\n\u533A\u9593 5 \u306F\u9078\u3073\u307E\u305B\u3093\u3002(\u533A\u9593 1 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n\u533A\u9593 2 \u306F\u9078\u3073\u307E\u305B\u3093\u3002 (\u533A\u9593 1 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n\u533A\u9593 4 \u3092\u9078\u3073\u307E\u3059\u3002\n\u533A\u9593 3 \u306F\u9078\u3073\u307E\u305B\u3093\u3002 (\u533A\u9593 4 \u3068\u4EA4\u308F\u3063\u3066\u3044\u308B\u70BA)\n")
    io.close_write
    expect(io.readlines.join).to eq("10 -10\n")
  end

  it 'test with "-1\n"' do
    io = IO.popen("ruby arc106/C.rb", "w+")
    io.puts("-1\n")
    io.close_write
    expect(io.readlines.join).to eq()
  end

end
